{"version":3,"sources":["login.js"],"names":["$","init","eventList","on","console","log","username_text","val","trim","password_text","checkPhone","mui","toast","leng","ajax","url","type","data","username","password","success","result","meta","status","sessionStorage","setItem","JSON","stringify","setTimeout","location","href","msg","phone","test"],"mappings":";;AAAAA,CAAC,CAAC,YAAU;AACRC,EAAAA,IAAI;;AAEJ,WAASA,IAAT,GAAe;AACXC,IAAAA,SAAS;AACZ;;AAED,WAASA,SAAT,GAAoB;AAChB;AACAF,IAAAA,CAAC,CAAC,YAAD,CAAD,CAAgBG,EAAhB,CAAmB,KAAnB,EAAyB,YAAU;AAC/BC,MAAAA,OAAO,CAACC,GAAR,CAAY,KAAZ,EAD+B,CAE/B;;AACA,UAAIC,aAAa,GAACN,CAAC,CAAC,wBAAD,CAAD,CAA4BO,GAA5B,GAAkCC,IAAlC,EAAlB;AACA,UAAIC,aAAa,GAACT,CAAC,CAAC,wBAAD,CAAD,CAA4BO,GAA5B,GAAkCC,IAAlC,EAAlB,CAJ+B,CAK/B;;AACA,UAAG,CAACE,UAAU,CAACJ,aAAD,CAAd,EAA8B;AAC1B;AAGAK,QAAAA,GAAG,CAACC,KAAJ,CAAU,OAAV;AACA;AACH;;AACD,UAAGH,aAAa,CAACI,IAAd,GAAmB,CAAtB,EAAwB;AACpBF,QAAAA,GAAG,CAACC,KAAJ,CAAU,OAAV;AACA;AACH;;AAEDZ,MAAAA,CAAC,CAACc,IAAF,CAAO;AACHC,QAAAA,GAAG,EAAC,6CADD;AAEHC,QAAAA,IAAI,EAAC,MAFF;AAGHC,QAAAA,IAAI,EAAC;AACDC,UAAAA,QAAQ,EAACZ,aADR;AAEDa,UAAAA,QAAQ,EAACV;AAFR,SAHF;AAOHW,QAAAA,OAAO,EAAC,iBAASC,MAAT,EAAgB;AACpB,cAAGA,MAAM,CAACC,IAAP,CAAYC,MAAZ,IAAoB,GAAvB,EAA2B;AACvB;AACAC,YAAAA,cAAc,CAACC,OAAf,CAAuB,UAAvB,EAAkCC,IAAI,CAACC,SAAL,CAAeN,MAAM,CAACJ,IAAtB,CAAlC;AACAN,YAAAA,GAAG,CAACC,KAAJ,CAAU,MAAV;AACAgB,YAAAA,UAAU,CAAC,YAAI;AACXC,cAAAA,QAAQ,CAACC,IAAT,GAAc,YAAd;AACH,aAFS,EAER,IAFQ,CAAV;AAIH,WARD,MAQK;AACD;AACAnB,YAAAA,GAAG,CAACC,KAAJ,CAAUS,MAAM,CAACC,IAAP,CAAYS,GAAtB;AACH;AAEJ;AArBE,OAAP;AAyBH,KA3CD;AA4CH,GArDO,CAwDP;;;AACA,WAASrB,UAAT,CAAoBsB,KAApB,EAA2B;AACxB,QAAI,CAAC,kBAAkBC,IAAlB,CAAuBD,KAAvB,CAAL,EAAoC;AAClC,aAAO,KAAP;AACD,KAFD,MAEO;AACL,aAAO,IAAP;AACD;AACF;AAEN,CAjEA,CAAD","sourcesContent":["$(function(){\r\n    init();\r\n\r\n    function init(){\r\n        eventList()\r\n    }\r\n\r\n    function eventList(){\r\n        //点击 登录按钮事件\r\n        $('.login_btn').on(\"tap\",function(){\r\n            console.log('进来了')\r\n            //获取用户和密码\r\n            let username_text=$(\"input[name='username']\").val().trim();\r\n            let password_text=$(\"input[name='password']\").val().trim();\r\n            //验证合法性\r\n            if(!checkPhone(username_text)){\r\n                //不通过\r\n\r\n                \r\n                mui.toast('手机不合法')\r\n                return;\r\n            }\r\n            if(password_text.leng<6){\r\n                mui.toast('密码不合法');\r\n                return;\r\n            }\r\n\r\n            $.ajax({\r\n                url:\"http://api.pyg.ak48.xyz/api/public/v1/login\",\r\n                type:\"post\",\r\n                data:{\r\n                    username:username_text,\r\n                    password:password_text\r\n                },\r\n                success:function(result){\r\n                    if(result.meta.status==200){\r\n                        //成功,把数据放入本地存储,存对象的时候转换json格式\r\n                        sessionStorage.setItem(\"userinfo\",JSON.stringify(result.data));\r\n                        mui.toast(\"登录成功\")\r\n                        setTimeout(()=>{\r\n                            location.href=\"index.html\"\r\n                        },1000)\r\n                \r\n                    }else{\r\n                        //错误\r\n                        mui.toast(result.meta.msg)\r\n                    }\r\n\r\n                }\r\n\r\n\r\n            })\r\n        })\r\n    }\r\n\r\n\r\n     // 验证 手机合法性\r\n     function checkPhone(phone) {\r\n        if (!/^1[34578]\\d{9}$/.test(phone)) {\r\n          return false;\r\n        } else {\r\n          return true;\r\n        }\r\n      }\r\n\r\n})"],"file":"login.js"}